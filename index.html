<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مواد البناء - للتجارة والاستيراد</title>
    <!-- الخطوط -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- أيقونات Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cairo', sans-serif;
        }

        body {
            background-color: #f8f9fa;
            color: #333;
        }

        /* شريط التنقل */
        .navbar {
            background: linear-gradient(135deg, #1e2b3a 0%, #2c3e50 100%);
            padding: 1rem 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            font-size: 2rem;
            color: #f39c12;
        }

        .logo span {
            color: white;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            font-size: 1.1rem;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: #f39c12;
        }

            /* لغة الموقع */
            #langSelect {
                background: transparent;
                color: white;
                border: 1px solid rgba(255,255,255,0.15);
                padding: 6px 8px;
                border-radius: 6px;
                font-weight: 600;
                cursor: pointer;
            }
        /* أيقونات المستخدم والسلة */
        .user-actions {
            display: flex;
            gap: 1.5rem;
            align-items: center;
        }

        .cart-icon {
            position: relative;
            cursor: pointer;
        }

        .cart-icon i {
            font-size: 1.5rem;
            color: white;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #f39c12;
            color: #1e2b3a;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }

        /* قسم البطل الرئيسي */
        .hero {
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1541888946425-d81bb19240f5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
        }

        .hero-content h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .hero-content p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
        }

        .btn {
            padding: 12px 30px;
            background: #f39c12;
            color: #1e2b3a;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .btn:hover {
            background: #e67e22;
            transform: translateY(-2px);
        }

        /* قسم التصنيفات */
        .categories {
            padding: 4rem 5%;
        }

        .section-title {
            text-align: center;
            margin-bottom: 3rem;
        }

        .section-title h2 {
            font-size: 2.5rem;
            color: #1e2b3a;
            margin-bottom: 1rem;
        }

        .section-title p {
            color: #666;
            font-size: 1.1rem;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }

        .category-card {
            background: white;
            padding: 2rem;
            text-align: center;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: all 0.3s;
            cursor: pointer;
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .category-card i {
            font-size: 3rem;
            color: #f39c12;
            margin-bottom: 1rem;
        }

        .category-card h3 {
            font-size: 1.3rem;
            color: #1e2b3a;
        }

        /* قسم المنتجات */
        .products-section {
            padding: 4rem 5%;
            background: #f8f9fa;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .product-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: all 0.3s;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }

        .product-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #f39c12;
            color: #1e2b3a;
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 0.8rem;
            z-index: 1;
        }

        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .product-info {
            padding: 1.5rem;
        }

        .product-title {
            font-size: 1.2rem;
            color: #1e2b3a;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .product-description {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        .product-price-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }

        .product-price {
            font-size: 1.3rem;
            font-weight: 700;
            color: #f39c12;
        }

        .product-old-price {
            text-decoration: line-through;
            color: #999;
            font-size: 0.9rem;
            margin-right: 8px;
        }

        .add-to-cart {
            background: #1e2b3a;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }

        .add-to-cart:hover {
            background: #f39c12;
            color: #1e2b3a;
        }

        /* سلة التسوق الجانبية */
        .cart-sidebar {
            position: fixed;
            top: 0;
            left: -400px;
            width: 380px;
            height: 100vh;
            background: white;
            box-shadow: -5px 0 15px rgba(0,0,0,0.1);
            transition: left 0.3s ease;
            z-index: 1001;
            display: flex;
            flex-direction: column;
        }

        .cart-sidebar.open {
            left: 0;
        }

        .cart-header {
            background: #1e2b3a;
            color: white;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-header h3 {
            font-size: 1.3rem;
        }

        .close-cart {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .cart-items {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
        }

        .cart-item {
            display: flex;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid #eee;
        }

        .cart-item-image {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 5px;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-title {
            font-weight: 600;
            color: #1e2b3a;
            font-size: 0.95rem;
        }

        .cart-item-price {
            color: #f39c12;
            font-weight: 600;
            margin-top: 5px;
        }

        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 5px;
        }

        .quantity-btn {
            background: #f0f0f0;
            border: none;
            width: 25px;
            height: 25px;
            border-radius: 3px;
            cursor: pointer;
            font-weight: bold;
        }

        .cart-item-total {
            font-weight: 600;
            color: #1e2b3a;
        }

        .remove-item {
            color: #e74c3c;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .cart-footer {
            padding: 1.5rem;
            border-top: 2px solid #eee;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .checkout-btn {
            width: 100%;
            padding: 12px;
            background: #f39c12;
            color: #1e2b3a;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.3s;
        }

        .checkout-btn:hover {
            background: #e67e22;
        }

        .empty-cart {
            text-align: center;
            color: #999;
            padding: 2rem;
        }

        /* خلفية معتمة عند فتح السلة */
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .overlay.active {
            display: block;
        }

        /* إشعارات */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #1e2b3a;
            color: white;
            padding: 15px 25px;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transform: translateX(400px);
            transition: transform 0.3s;
            z-index: 2000;
        }

        .notification.show {
            transform: translateX(0);
        }

        /* تذييل الصفحة */
        .footer {
            background: #1e2b3a;
            color: white;
            padding: 3rem 5%;
            text-align: center;
        }

        .footer i {
            color: #f39c12;
            margin: 0 5px;
        }

        /* استجابة للجوال */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 1rem;
            }
            
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .hero-content h1 {
                font-size: 2rem;
            }
            
            .cart-sidebar {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- شريط التنقل -->
    <nav class="navbar">
        <div class="logo">
            <i class="fas fa-hard-hat"></i>
            <span data-i18n="logo">مواد البناء</span>
        </div>
        <div class="nav-links">
            <a href="#" class="active" data-i18n="nav_home">الرئيسية</a>
            <a href="#products" data-i18n="nav_products">المنتجات</a>
            <a href="#categories" data-i18n="nav_categories">التصنيفات</a>
            <a href="#" data-i18n="nav_about">من نحن</a>
            <a href="#" data-i18n="nav_contact">اتصل بنا</a>
        </div>
        <div class="user-actions">
            <select id="langSelect" aria-label="Language" onchange="changeLanguage(this.value)">
                <option value="ar">العربية</option>
                <option value="en">English</option>
            </select>
            <div class="cart-icon" onclick="toggleCart()">
                <i class="fas fa-shopping-cart"></i>
                <span class="cart-count" id="cartCount">0</span>
            </div>
            <i class="fas fa-user-circle" style="color: white; font-size: 1.5rem; cursor: pointer;"></i>
        </div>
    </nav>

    <!-- قسم البطل الرئيسي -->
    <section class="hero">
        <div class="hero-content">
            <h1 data-i18n="hero_h1">مواد بناء بأعلى جودة</h1>
            <p data-i18n="hero_p">استيراد وتصدير جميع مواد البناء من أشهر الماركات العالمية</p>
            <a href="#products" class="btn" data-i18n="hero_cta">تسوق الآن</a>
        </div>
    </section>

    <!-- قسم التصنيفات -->
    <section class="categories" id="categories">
        <div class="section-title">
            <h2 data-i18n="categories_title">تصنيفات المنتجات</h2>
            <p data-i18n="categories_desc">اختر من بين أشهر تصنيفات مواد البناء</p>
        </div>
        <div class="category-grid">
            <div class="category-card" onclick="filterByCategory('اسمنت')">
                <i class="fas fa-cubes"></i>
                <h3 data-i18n="cat_cement">أسمنت ومواد بناء</h3>
            </div>
            <div class="category-card" onclick="filterByCategory('حديد')">
                <i class="fas fa-bars"></i>
                <h3 data-i18n="cat_iron">حديد وتسليح</h3>
            </div>
            <div class="category-card" onclick="filterByCategory('سباكة')">
                <i class="fas fa-water"></i>
                <h3 data-i18n="cat_plumbing">أدوات سباكة</h3>
            </div>
            <div class="category-card" onclick="filterByCategory('كهرباء')">
                <i class="fas fa-bolt"></i>
                <h3 data-i18n="cat_electrical">أدوات كهرباء</h3>
            </div>
            <div class="category-card" onclick="filterByCategory('دهانات')">
                <i class="fas fa-paint-brush"></i>
                <h3 data-i18n="cat_paint">دهانات وعوازل</h3>
            </div>
            <div class="category-card" onclick="filterByCategory('عدد')">
                <i class="fas fa-tools"></i>
                <h3 data-i18n="cat_tools">عدد وأدوات</h3>
            </div>
        </div>
    </section>

    <!-- قسم المنتجات -->
    <section class="products-section" id="products">
        <div class="section-title">
            <h2 data-i18n="products_title">منتجات مميزة</h2>
            <p data-i18n="products_desc">أحدث وأفضل منتجات مواد البناء</p>
        </div>
        <div class="products-grid" id="productsGrid">
            <!-- المنتجات ستتم إضافتها هنا عبر JavaScript -->
        </div>
    </section>

    <!-- سلة التسوق الجانبية -->
    <div class="overlay" id="overlay" onclick="toggleCart()"></div>
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3><i class="fas fa-shopping-cart"></i> <span data-i18n="cart_title">سلة التسوق</span></h3>
            <button class="close-cart" onclick="toggleCart()">×</button>
        </div>
        <div class="cart-items" id="cartItems">
            <!-- عناصر السلة ستتم إضافتها هنا -->
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span data-i18n="total">المجموع:</span>
                <span id="cartTotal">0.00 د.ك</span>
            </div>
            <button class="checkout-btn" onclick="checkout()">
                <i class="fas fa-credit-card"></i> <span data-i18n="checkout">إتمام الشراء</span>
            </button>
        </div>
    </div>

    <!-- إشعار -->
    <div class="notification" id="notification"></div>

    <script>
        // بيانات المنتجات (من ملف JSON)
        const products = [
            {
                id: 1,
                name: "أسمنت بورتلاندي عادي",
                description: "أسمنت عالي الجودة للتشييد والبناء، كيس 50 كجم",
                price: 3.50,
                oldPrice: 4.00,
                image: "https://images.unsplash.com/photo-1518717758536-85ae29035b6d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1170&q=80",
                category: "اسمنت",
                badge: "وفر 15%"
            },
            {
                id: 2,
                name: "حديد تسليح 16 مم",
                description: "حديد تسليح عالي المقاومة، طول 12 متر",
                price: 12.50,
                oldPrice: 14.00,
                image: "https://images.unsplash.com/photo-1541976590-7139412e8b8e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1170&q=80",
                category: "حديد",
                badge: "خصم خاص"
            },
            {
                id: 3,
                name: "خلاط ماء حلزوني",
                description: "خلاط ماء حلزوني فاخر من النحاس الخالص",
                price: 25.00,
                oldPrice: 32.00,
                image: "https://images.unsplash.com/photo-1589778655361-8c2d8a5abf2a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1170&q=80",
                category: "سباكة",
                badge: "الأكثر مبيعاً"
            },
            {
                id: 4,
                name: "قاطع كهربائي 16 أمبير",
                description: "قاطع كهربائي أتوماتيكي، الجهد 220V",
                price: 4.75,
                oldPrice: 6.00,
                image: "https://images.unsplash.com/photo-1621905251189-08b45d6a269e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1169&q=80",
                category: "كهرباء",
                badge: "جودة عالية"
            },
            {
                id: 5,
                name: "دهان ايبوكسي أرضيات",
                description: "دهان إيبوكسي للأرضيات الخرسانية، مجموعة 10 كجم",
                price: 45.00,
                oldPrice: 55.00,
                image: "https://images.unsplash.com/photo-1589939705384-5185137a7f0f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1170&q=80",
                category: "دهانات",
                badge: "وفر 20%"
            },
            {
                id: 6,
                name: "شنيور كهربائي 600 واط",
                description: "شنيور مزود بضربة، مناسب لجميع أعمال الثقب",
                price: 38.00,
                oldPrice: 45.00,
                image: "https://images.unsplash.com/photo-1504148455328-c376907d081c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1170&q=80",
                category: "عدد",
                badge: "ضمان سنتين"
            },
            {
                id: 7,
                name: "جبس بودرة ناعمة",
                description: "جبس أبيض ناعم للتشطيب والديكور، كيس 30 كجم",
                price: 8.25,
                oldPrice: 9.50,
                image: "https://images.unsplash.com/photo-1558901356-1a5b6a8b9b9b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1170&q=80",
                category: "اسمنت",
                badge: "وفر 15%"
            },
            {
                id: 8,
                name: "سيراميك أرضيات 40×40",
                description: "سيراميك أرضيات درجة أولى، مقاوم للخدش",
                price: 7.50,
                oldPrice: 9.00,
                image: "https://images.unsplash.com/photo-1594046243099-6d94b5a4d9b1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1170&q=80",
                category: "دهانات",
                badge: "تشكيلة واسعة"
            }
        ];

        // ترجمة واجهة المستخدم
        const translations = {
            ar: {
                lang: 'ar', dir: 'rtl', title: 'مواد البناء - للتجارة والاستيراد', logo: 'مواد البناء',
                nav_home: 'الرئيسية', nav_products: 'المنتجات', nav_categories: 'التصنيفات', nav_about: 'من نحن', nav_contact: 'اتصل بنا',
                hero_h1: 'مواد بناء بأعلى جودة', hero_p: 'استيراد وتصدير جميع مواد البناء من أشهر الماركات العالمية', hero_cta: 'تسوق الآن',
                categories_title: 'تصنيفات المنتجات', categories_desc: 'اختر من بين أشهر تصنيفات مواد البناء',
                cat_cement: 'أسمنت ومواد بناء', cat_iron: 'حديد وتسليح', cat_plumbing: 'أدوات سباكة', cat_electrical: 'أدوات كهرباء', cat_paint: 'دهانات وعوازل', cat_tools: 'عدد وأدوات',
                products_title: 'منتجات مميزة', products_desc: 'أحدث وأفضل منتجات مواد البناء',
                cart_title: 'سلة التسوق', cart_empty: 'السلة فارغة', total: 'المجموع:', checkout: 'إتمام الشراء',
                footer: '2025 شركة مواد البناء للتجارة والاستيراد. جميع الحقوق محفوظة. شحن لجميع الدول العربية | ضمان الجودة | دعم فني 24/7',
                add_to_cart: 'أضف للسلة', remove: 'إزالة',
                notification_added: 'تم إضافة {name} إلى السلة', notification_empty: 'السلة فارغة', purchase_success: 'شكراً لتسوقكم! تم إتمام عملية الشراء بنجاح', show_products: 'عرض منتجات: {category}'
            },
            en: {
                lang: 'en', dir: 'ltr', title: 'Building Materials - Trade & Import', logo: 'Building Materials',
                nav_home: 'Home', nav_products: 'Products', nav_categories: 'Categories', nav_about: 'About Us', nav_contact: 'Contact',
                hero_h1: 'Top Quality Building Materials', hero_p: 'Import and export building materials from top brands', hero_cta: 'Shop Now',
                categories_title: 'Product Categories', categories_desc: 'Choose from the top building material categories',
                cat_cement: 'Cement & Materials', cat_iron: 'Rebar & Iron', cat_plumbing: 'Plumbing Tools', cat_electrical: 'Electrical Tools', cat_paint: 'Paints & Insulation', cat_tools: 'Tools & Hardware',
                products_title: 'Featured Products', products_desc: 'Latest and best building products',
                cart_title: 'Shopping Cart', cart_empty: 'Cart is empty', total: 'Total:', checkout: 'Checkout',
                footer: '2025 Building Materials Co. All rights reserved. Shipping to Arab countries | Quality guarantee | 24/7 support',
                add_to_cart: 'Add to cart', remove: 'Remove',
                notification_added: 'Added {name} to cart', notification_empty: 'Cart is empty', purchase_success: 'Thanks for shopping! Purchase completed successfully', show_products: 'Showing products: {category}'
            }
        };

        // سلة التسوق
        let cart = [];
        let currentLang = localStorage.getItem('lang') || 'ar';

        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang] || translations.ar;
            document.documentElement.lang = t.lang;
            document.documentElement.dir = t.dir;
            document.title = t.title;
            // translate elements with data-i18n
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (t[key]) el.textContent = t[key];
            });
            const select = document.getElementById('langSelect');
            if (select) select.value = lang;
            localStorage.setItem('lang', lang);
        }

        function changeLanguage(lang) {
            setLanguage(lang);
            // refresh products (to update button text)
            displayProducts();
        }

        // عرض المنتجات
        function displayProducts(productsToShow = products) {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = '';

            productsToShow.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card';
                card.innerHTML = `
                    <span class="product-badge">${product.badge}</span>
                    <img src="${product.image}" alt="${product.name}" class="product-image">
                    <div class="product-info">
                        <h3 class="product-title">${product.name}</h3>
                        <p class="product-description">${product.description}</p>
                        <div class="product-price-row">
                            <div>
                                <span class="product-price">${product.price.toFixed(3)} د.ك</span>
                                <span class="product-old-price">${product.oldPrice.toFixed(3)} د.ك</span>
                            </div>
                            <button class="add-to-cart" onclick="addToCart(${product.id})">
                                <i class="fas fa-cart-plus"></i> ${translations[currentLang].add_to_cart}
                            </button>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // إضافة منتج للسلة
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);

            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }

            updateCart();
            const addedMsg = translations[currentLang].notification_added.replace('{name}', product.name);
            showNotification(addedMsg);
        }

        // تحديث السلة
        function updateCart() {
            // تحديث العداد
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = totalItems;

            // عرض عناصر السلة
            const cartContainer = document.getElementById('cartItems');
            if (cart.length === 0) {
                cartContainer.innerHTML = `<div class="empty-cart">${translations[currentLang].cart_empty}</div>`;
            } else {
                cartContainer.innerHTML = '';
                cart.forEach(item => {
                    const itemElement = document.createElement('div');
                    itemElement.className = 'cart-item';
                    itemElement.innerHTML = `
                        <img src="${item.image}" alt="${item.name}" class="cart-item-image">
                        <div class="cart-item-info">
                            <div class="cart-item-title">${item.name}</div>
                            <div class="cart-item-price">${item.price.toFixed(3)} د.ك</div>
                            <div class="cart-item-quantity">
                                <button class="quantity-btn" onclick="updateQuantity(${item.id}, -1)">-</button>
                                <span>${item.quantity}</span>
                                <button class="quantity-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                                <span class="cart-item-total">${(item.price * item.quantity).toFixed(3)} د.ك</span>
                            </div>
                            <div class="remove-item" onclick="removeFromCart(${item.id})">
                                <i class="fas fa-trash"></i> ${translations[currentLang].remove}
                            </div>
                        </div>
                    `;
                    cartContainer.appendChild(itemElement);
                });
            }

            // تحديث المجموع
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            document.getElementById('cartTotal').textContent = total.toFixed(3) + ' د.ك';
        }

        // تحديث الكمية
        function updateQuantity(productId, change) {
            const item = cart.find(i => i.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    updateCart();
                }
            }
        }

        // إزالة من السلة
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCart();
        }

        // تبديل ظهور السلة
        function toggleCart() {
            const sidebar = document.getElementById('cartSidebar');
            const overlay = document.getElementById('overlay');
            sidebar.classList.toggle('open');
            overlay.classList.toggle('active');
        }

        // إظهار إشعار
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');

            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // إتمام الشراء
        function checkout() {
            if (cart.length === 0) {
                showNotification(translations[currentLang].notification_empty);
                return;
            }
            alert(translations[currentLang].purchase_success);
            cart = [];
            updateCart();
            toggleCart();
        }

        // تصفية حسب التصنيف
        function filterByCategory(category) {
            const filtered = products.filter(p => p.category === category);
            displayProducts(filtered);
            const msg = translations[currentLang].show_products.replace('{category}', category);
            showNotification(msg);
        }

        // تهيئة الصفحة
        document.addEventListener('DOMContentLoaded', () => {
            setLanguage(currentLang);
            displayProducts();
            updateCart();
        });
    </script>

    <!-- تذييل الصفحة -->
    <footer class="footer">
        <p><span data-i18n="footer">2025 شركة مواد البناء للتجارة والاستيراد. جميع الحقوق محفوظة.<br><i class="fas fa-truck"></i> شحن لجميع الدول العربية | <i class="fas fa-shield-alt"></i> ضمان الجودة | <i class="fas fa-headset"></i> دعم فني 24/7</span></p>
    </footer>
</body>
</html>